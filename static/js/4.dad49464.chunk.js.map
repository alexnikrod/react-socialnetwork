{"version":3,"sources":["hoc/withAuthRedirect.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/bill.jpg","components/common/Paginator/Paginator.module.scss","../node_modules/classnames/index.js","components/Users/Users.module.scss","redux/users-selectors.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","hasOwn","hasOwnProperty","classNames","classes","arguments","arg","argType","inner","apply","key","call","join","default","getUsersSelector","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getcurrentPage","currentPage","getIsFetching","isFetching","getIsDisabled","isDisabled","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","onClick","filter","p","map","cn","selectedPage","pageNumber","User","user","unfollowThunk","followThunk","id","src","photos","small","userPhoto","alt","usersPhoto","followed","disabled","some","name","status","Users","u","UsersContainer","getUsers","Preloader","toggleIsDisabled","compose"],"mappings":"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","file":"static/js/4.dad49464.chunk.js","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nlet mapStateToPropsForRedirect = state => ({ isAuth: state.auth.isAuth });\n\nexport const withAuthRedirect = Component => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) {\n        return <Redirect to={\"/login\"} />;\n      }\n      return <Component {...this.props} />;\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n  return ConnectedAuthRedirectComponent;\n};\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/bill.9bea4bf7.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1y9hK\",\"paginator\":\"Paginator_paginator__3C8hn\",\"pageNumber\":\"Paginator_pageNumber__iZYXW\"};","/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg) && arg.length) {\n\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\tif (inner) {\n\t\t\t\t\tclasses.push(inner);\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__xCrsx\"};","export const getUsersSelector = state => {\n  return state.usersPage.users;\n};\n\nexport const getPageSize = state => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = state => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getcurrentPage = state => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = state => {\n  return state.usersPage.isFetching;\n};\n\nexport const getIsDisabled = state => {\n  return state.usersPage.isDisabled;\n};\n","import React, { useState } from \"react\";\nimport styles from \"./Paginator.module.scss\";\nimport cn from \"classnames\";\n\nlet Paginator = ({\n  totalUsersCount,\n  pageSize,\n  currentPage,\n  onPageChanged,\n  portionSize = 10\n}) => {\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  return (\n    <div className={styles.paginator}>\n      {portionNumber > 1 && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          PREV\n        </button>\n      )}\n\n      {pages\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n        .map(p => {\n          return (\n            <span\n              key={p}\n              className={ cn(\n                {\n                  [styles.selectedPage]: currentPage === p\n                },\n                styles.pageNumber\n              )}\n             /*  className={currentPage === p ? styles.selectedPage : null} */\n              onClick={() => {\n                onPageChanged(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          NEXT\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./Users.module.scss\";\nimport userPhoto from \"../../assets/images/bill.jpg\";\n\nlet User = ({ user, isDisabled, unfollowThunk, followThunk }) => {\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={\"/profile/\" + user.id}>\n            <img\n              src={user.photos.small != null ? user.photos.small : userPhoto}\n              alt=\"User\"\n              className={styles.usersPhoto}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={isDisabled.some(id => id === user.id)}\n              onClick={() => {\n                unfollowThunk(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={isDisabled.some(id => id === user.id)}\n              onClick={() => {\n                followThunk(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n        <span>\n          <div>{\"user.location.country\"}</div>\n          <div>{\"user.location.city\"}</div>\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\n\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({\n  currentPage,\n  totalUsersCount,\n  pageSize,\n  onPageChanged,\n  users,\n  isDisabled,\n  unfollowThunk,\n  followThunk\n}) => {\n  return (\n    <div>\n      <Paginator\n        currentPage={currentPage}\n        totalUsersCount={totalUsersCount}\n        pageSize={pageSize}\n        onPageChanged={onPageChanged}\n      />\n      <div>\n        {users.map(u => (\n          <User\n            user={u}\n            key={u.id}\n            isDisabled={isDisabled}\n            unfollowThunk={unfollowThunk}\n            followThunk={followThunk}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Users;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  followThunk,\n  unfollowThunk,\n  getUsers\n} from \"../../redux/users-reducer\";\n\nimport {\n  getUsersSelector,\n  getPageSize,\n  getTotalUsersCount,\n  getcurrentPage,\n  getIsFetching,\n  getIsDisabled\n} from \"../../redux/users-selectors\";\n\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\n\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport { compose } from \"redux\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    const { currentPage, pageSize } = this.props;\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  onPageChanged = pageNumber => {\n    const { pageSize } = this.props;\n    this.props.getUsers(pageNumber, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          users={this.props.users}\n          followThunk={this.props.followThunk}\n          unfollowThunk={this.props.unfollowThunk}\n          onPageChanged={this.onPageChanged}\n          isDisabled={this.props.isDisabled}\n          toggleIsDisabled={this.props.toggleIsDisabled}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    users: getUsersSelector(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getcurrentPage(state),\n    isFetching: getIsFetching(state),\n    isDisabled: getIsDisabled(state)\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    followThunk,\n    unfollowThunk,\n    getUsers\n  }),\n  withAuthRedirect\n)(UsersContainer);\n"],"sourceRoot":""}