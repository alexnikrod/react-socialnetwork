{"version":3,"sources":["hoc/withAuthRedirect.jsx","assets/images/bill.jpg","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/ProfileInfo.module.scss","components/Profile/MyPosts/MyPosts.module.scss","components/Profile/MyPosts/Posts/Post.module.scss","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Posts/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onClick","onChange","e","currentTarget","onBlur","updateStatus","autoFocus","ProfileInfo","profile","className","s","descriptionBlock","userPhoto","src","photos","large","alt","fullName","Preloader","Post","item","message","likesCount","maxLength10","maxLengthCreator","MyPosts","memo","postsElements","posts","map","p","key","id","postsBlock","AddPostReduxForm","onSubmit","values","addPost","newPostText","reduxForm","form","handleSubmit","Field","name","component","Textarea","placeholder","validate","required","MyPostsContainer","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","match","params","authorizedUserId","history","setUserProfileThunk","getUserStatus","updateUserStatus","compose","withRouter"],"mappings":"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","file":"static/js/3.f1de9669.chunk.js","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nlet mapStateToPropsForRedirect = state => ({ isAuth: state.auth.isAuth });\n\nexport const withAuthRedirect = Component => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) {\n        return <Redirect to={\"/login\"} />;\n      }\n      return <Component {...this.props} />;\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n  return ConnectedAuthRedirectComponent;\n};\n","module.exports = __webpack_public_path__ + \"static/media/bill.9bea4bf7.jpg\";","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__gOOQY\",\"userPhoto\":\"ProfileInfo_userPhoto__4AhkJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1cAL4\",\"posts\":\"MyPosts_posts__1P0sL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__1lmk6\"};","import React, { useEffect } from \"react\";\nimport { useState } from \"react\";\n\nconst ProfileStatusWithHooks = props => {\n  let [editMode, setEditMode] = useState(false);\n  let [status, setStatus] = useState(props.status);\n\n  useEffect(() => {\n    setStatus(props.status);\n  }, [props.status]);\n\n  const activateEditMode = () => {\n    setEditMode(true);\n  };\n\n  const deactivateEditMode = () => {\n    setEditMode(false);\n    props.updateStatus(status);\n  };\n\n  const onStatusChange = e => {\n    setStatus(e.currentTarget.value);\n  };\n\n  return (\n    <div>\n      {!editMode && (\n        <div>\n          <span onClick={activateEditMode}>\n            {props.status || \"*no status*\"}\n          </span>\n        </div>\n      )}\n      {editMode && (\n        <div>\n          <input\n            onChange={onStatusChange}\n            onBlur={deactivateEditMode}\n            value={status}\n            autoFocus\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ProfileStatusWithHooks;\n","import React from \"react\";\n\nimport s from \"./ProfileInfo.module.scss\";\nimport Preloader from \"../../common/Preloader/Preloader\";\nimport userPhoto from \"../../../assets/images/bill.jpg\";\n\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\n\nconst ProfileInfo = ({profile, status, updateStatus}) => {\n  if (!profile) {\n    return <Preloader />;\n  }\n\n  return (\n    <div>\n      <div className={s.descriptionBlock}>\n        <img className={s.userPhoto}\n          src={\n            profile.photos.large != null\n              ? profile.photos.large\n              : userPhoto\n          }\n          alt=\"large\"\n        />\n        <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\n      </div>\n      <div>Ava+description</div>\n      <div>{profile.fullName}</div>\n      <div>{profile.status}</div>\n    </div>\n  );\n};\n\nexport default ProfileInfo;\n","import React from \"react\";\nimport s from \"./Post.module.scss\";\n\nconst Post = props => {\n  return (\n    <div className={s.item}>\n      <img \n        src=\"https://i.ya-webdesign.com/images/funny-png-avatar-2.png\"\n        alt=\"ava\"\n      />\n      {props.message}\n      <div>\n        <span>Like {props.likesCount}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Post;\n","import React from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\n\nimport s from \"./MyPosts.module.scss\";\nimport Posts from \"./Posts/Post\";\nimport {\n  required,\n  maxLengthCreator\n} from \"../../../utils/validators/validators\";\nimport { Textarea } from \"../../common/FormControls/FormControls\";\n\nconst maxLength10 = maxLengthCreator(10);\n\nconst MyPosts = React.memo(props => {\n  let postsElements = props.posts.map(p => (\n    <Posts message={p.message} likesCount={p.likesCount} key={p.id} />\n  ));\n\n  const onAddPost = values => {\n    props.addPost(values.newPostText);\n  };\n\n  return (\n    <div className={s.postsBlock}>\n      <h3>My posts</h3>\n      <AddPostReduxForm onSubmit={onAddPost} />\n      <div className={s.posts}>{postsElements}</div>\n    </div>\n  );\n});\n\nconst AddPostForm = props => {\n  return (\n    <form onSubmit={props.handleSubmit}>\n      <div>\n        <Field\n          name={\"newPostText\"}\n          component={Textarea}\n          placeholder={\"Enter your post\"}\n          validate={[required, maxLength10]}\n        />\n      </div>\n      <div>\n        <button>Add post</button>\n      </div>\n    </form>\n  );\n};\n\nconst AddPostReduxForm = reduxForm({\n  form: \"profileAddPostForm\"\n})(AddPostForm);\n\nexport default MyPosts;\n","import { connect } from \"react-redux\";\n\nimport MyPosts from \"./MyPosts\";\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\n\nlet mapStateToProps = state => {\n  return {\n    posts: state.profilePage.posts,\n    newPostText: state.profilePage.newPostText\n  };\n};\n\nlet mapDispatchToProps = dispatch => {\n  return {\n    addPost: newPostText => {\n      dispatch(addPostActionCreator(newPostText));\n    }\n  };\n};\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\n\nexport default MyPostsContainer;\n","import React from \"react\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\nconst Profile = props => {\n  return (\n    <div>\n      <div>Main Content</div>\n      <ProfileInfo\n        profile={props.profile}\n        status={props.status}\n        updateStatus={props.updateStatus}\n      />\n      <MyPostsContainer />\n    </div>\n  );\n};\n\nexport default Profile;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\n\nimport Profile from \"./Profile\";\nimport {\n  setUserProfileThunk,\n  getUserStatus,\n  updateUserStatus\n} from \"../../redux/profile-reducer\";\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\nimport { compose } from \"redux\";\n\nclass ProfileContainer extends React.Component {\n  componentDidMount() {\n    let userId = this.props.match.params.userId;\n    if (!userId) {\n      userId = this.props.authorizedUserId;\n      if (!userId) {\n        this.props.history.push(\"/login\");\n      }\n    }\n    this.props.setUserProfileThunk(userId);\n    this.props.getUserStatus(userId);\n  }\n\n  render() {\n    return (\n      <div>\n        <Profile\n          {...this.props}\n          profile={this.props.profile}\n          status={this.props.status}\n          updateStatus={this.props.updateUserStatus}\n        />\n      </div>\n    );\n  }\n}\n\nlet mapStateToProps = state => ({\n  profile: state.profilePage.profile,\n  status: state.profilePage.status,\n  authorizedUserId: state.auth.userId,\n  isAuth: state.auth.isAuth\n});\n\nexport default compose(\n  connect(mapStateToProps, {\n    setUserProfileThunk,\n    getUserStatus,\n    updateUserStatus\n  }),\n  withRouter,\n  withAuthRedirect\n)(ProfileContainer);\n"],"sourceRoot":""}