{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","utils/object-helper.js","redux/users-reducer.js","assets/images/35.gif","components/NavBar/NavBar.module.scss","components/common/FormControls/FormControls.jsx","redux/auth-reducer.js","redux/app-reducer.js","redux/redux-store.js","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/NavBar/NavBar.jsx","components/Login/Login.jsx","hoc/withSuspense.jsx","App.js","index.js","utils/validators/validators.js","components/common/FormControls/FormControls.module.scss","components/Header/Header.module.scss","redux/profile-reducer.js","components/common/Preloader/Preloader.jsx"],"names":["instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUsers","id","delete","followUsers","post","getAuthData","getUserProfile","userId","profileAPI","getUserStatus","updateUserStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","authAPI","login","email","password","rememberMe","captcha","logOut","securityAPI","getCaptchaUrl","initialState","messages","message","dialogs","name","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","updateObjectInArray","items","itemId","objPropName","newObjProps","map","u","users","totalUsersCount","isFetching","isDisabled","follow","unfollow","setCurrentPage","toggleIsFetching","toggleIsDisabled","dispatch","a","count","totalCount","followUnfollowFlow","apiMethod","actionCreator","resultCode","unfollowThunk","bind","followThunk","usersReducer","followed","filter","module","exports","FormControl","meta","touched","error","children","hasError","className","s","formControl__error","Textarea","props","input","restProps","child","Input","createField","placeholder","component","validators","text","validate","SET_USER_DATA","isAuth","captchaUrl","setAuthUserData","payload","getCaptchaUrlSuccess","authThunk","url","authReducer","initialized","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","auth","form","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","__store__","Header","header","src","alt","loginBlock","onClick","to","HeaderContainer","this","React","Component","connect","NavBar","nav","item","activeClassName","active","href","maxLength30","maxLengthCreator","LoginReduxForm","reduxForm","handleSubmit","onSubmit","style","required","Field","LoginContainer","Login","loginAuthThunk","length","stopSubmit","_error","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","UsersContainer","App","initializeApp","path","render","Preloader","promise","Promise","all","withRouter","ReactDOM","document","getElementById","value","maxLength","posts","likesCount","addPostActionCreator","newPostText","setUserStatus","setUserProfileThunk","savePhotoTh","file","photos","getState","reject","newPost","p","postId","preloader"],"mappings":"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","file":"static/js/main.43c8f220.chunk.js","sourcesContent":["import * as axios from \"axios\";\n\nconst instance = axios.create({\n  withCredentials: true,\n  baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\n  headers: {\n    \"API-KEY\": \"d075aadf-9fc0-4045-9fac-f3aa46fa4e92\"\n  }\n});\n\nexport const usersAPI = {\n  getUsers(currentPage = 1, pageSize = 10) {\n    return instance\n      .get(`users?page=${currentPage}&count=${pageSize}`)\n      .then(response => {\n        return response.data;\n      });\n  },\n  unfollowUsers(id) {\n    return instance.delete(`follow/${id}`).then(response => {\n      return response.data;\n    });\n  },\n  followUsers(id) {\n    return instance.post(`follow/${id}`, {}).then(response => {\n      return response.data;\n    });\n  },\n  getAuthData() {\n    return instance.get(`auth/me`).then(response => {\n      return response.data;\n    });\n  },\n  getUserProfile(userId) {\n    return profileAPI.getUserProfile(userId);\n  }\n};\n\nexport const profileAPI = {\n  getUserProfile(userId) {\n    return instance.get(`profile/${userId}`).then(response => {\n      return response.data;\n    });\n  },\n  getUserStatus(userId) {\n    return instance.get(`profile/status/${userId}`).then(response => {\n      return response.data;\n    });\n  },\n  updateUserStatus(status) {\n    return instance.put(`profile/status`, { status }).then(response => {\n      return response.data;\n    });\n  },\n  savePhoto(photoFile) {\n    const formData = new FormData();\n    formData.append(\"image\", photoFile);\n\n    return instance\n      .put(`profile/photo`, formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      })\n      .then(response => {\n        return response.data;\n      });\n  },\n  saveProfile(profile) {\n    return instance.put(`profile`, profile);\n  }\n};\n\nexport const authAPI = {\n  getAuthData() {\n    return instance.get(`auth/me`).then(response => {\n      return response.data;\n    });\n  },\n  login(email, password, rememberMe = false, captcha = null) {\n    return instance\n      .post(`auth/login`, { email, password, rememberMe, captcha })\n      .then(response => {\n        return response.data;\n      });\n  },\n  logOut() {\n    return instance.delete(`auth/login`);\n  }\n};\n\nexport const securityAPI = {\n  getCaptchaUrl() {\n    return instance.get(`security/get-captcha-url`);\n  }\n};\n","const SEND_MESSAGE = \"SEND_MESSAGE\";\n\nlet initialState = {\n  messages: [\n    { id: 1, message: \"Hi\" },\n    { id: 2, message: \"How are you?\" },\n    { id: 3, message: \"Privet\" }\n  ],\n  dialogs: [\n    { id: 1, name: \"Ivan\" },\n    { id: 2, name: \"Peter\" },\n    { id: 3, name: \"Igor\" },\n    { id: 4, name: \"Andrey\" },\n    { id: 5, name: \"Lena\" }\n  ]\n};\n\nconst dialogsReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SEND_MESSAGE:\n      let body = action.newMessageBody;\n      return {\n        ...state,\n        messages: [\n          ...state.messages,\n          {\n            id: 4,\n            message: body\n          }\n        ]\n      };\n    default:\n      return state;\n  }\n};\n\nexport const sendMessageCreator = newMessageBody => ({\n  type: SEND_MESSAGE,\n  newMessageBody\n});\n\nexport default dialogsReducer;\n","export const updateObjectInArray = (items, itemId, objPropName, newObjProps) => {\n  return items.map(u => {\n    if (u[objPropName] === itemId) {\n      return { ...u, ...newObjProps };\n    }\n    return u;\n  })\n}","import { usersAPI } from \"../api/api\";\nimport { updateObjectInArray } from \"../utils/object-helper\";\n\nconst FOLLOW = \"FOLLOW\";\nconst UNFOLLOW = \"UNFOLLOW\";\nconst SET_USERS = \"SET_USERS\";\nconst SET_CURRENT_PAGE = \"SET_CURRENT_PAGE\";\nconst SET_TOTAL_USERS_COUNT = \"SET_TOTAL_USERS_COUNT\";\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\nconst TOGGLE_IS_DISABLED = \"TOGGLE_IS_DISABLED\";\n\nlet initialState = {\n  users: [],\n  pageSize: 5,\n  totalUsersCount: 0,\n  currentPage: 1,\n  isFetching: false,\n  isDisabled: []\n};\n\nconst usersReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case FOLLOW:\n      return {\n        ...state,\n        /* users: state.users.map(u => {\n          if (u.id === action.userId) {\n            return { ...u, followed: true };\n          }\n          return u;\n        }) */\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: true\n        })\n      };\n    case UNFOLLOW:\n      return {\n        ...state,\n        users: updateObjectInArray(state.users, action.userId, \"id\", {\n          followed: false\n        })\n      };\n    case SET_USERS:\n      return {\n        ...state,\n        users: action.users\n      };\n    case SET_CURRENT_PAGE:\n      return {\n        ...state,\n        currentPage: action.currentPage\n      };\n    case SET_TOTAL_USERS_COUNT:\n      return {\n        ...state,\n        totalUsersCount: action.count\n      };\n    case TOGGLE_IS_FETCHING:\n      return {\n        ...state,\n        isFetching: action.isFetching\n      };\n    case TOGGLE_IS_DISABLED:\n      return {\n        ...state,\n        isDisabled: action.isDisabled\n          ? [...state.isDisabled, action.userId]\n          : state.isDisabled.filter(id => id !== action.userId) //????\n      };\n    default:\n      return state;\n  }\n};\n// action creators\nexport const follow = userId => ({\n  type: FOLLOW,\n  userId\n});\n\nexport const unfollow = userId => ({\n  type: UNFOLLOW,\n  userId\n});\n\nexport const setUsers = users => ({\n  type: SET_USERS,\n  users\n});\n\nexport const setCurrentPage = currentPage => ({\n  type: SET_CURRENT_PAGE,\n  currentPage\n});\n\nexport const setTotalUsersCount = totalUsersCount => ({\n  type: SET_TOTAL_USERS_COUNT,\n  count: totalUsersCount\n});\n\nexport const toggleIsFetching = isFetching => ({\n  type: TOGGLE_IS_FETCHING,\n  isFetching\n});\n// button follow or or unfollow is disabled\n// to prevent queries on server\nexport const toggleIsDisabled = (isDisabled, userId) => ({\n  type: TOGGLE_IS_DISABLED,\n  isDisabled,\n  userId\n});\n// thunk\nexport const getUsers = (currentPage, pageSize) => {\n  return async dispatch => {\n    dispatch(toggleIsFetching(true));\n    dispatch(setCurrentPage(currentPage));\n\n    let response = await usersAPI.getUsers(currentPage, pageSize);\n\n    dispatch(toggleIsFetching(false));\n    dispatch(setUsers(response.items));\n    dispatch(setTotalUsersCount(response.totalCount));\n  };\n};\n\nconst followUnfollowFlow = async (\n  dispatch,\n  userId,\n  apiMethod,\n  actionCreator\n) => {\n  dispatch(toggleIsDisabled(true, userId));\n  let response = await apiMethod(userId);\n  if (response.resultCode === 0) {\n    dispatch(actionCreator(userId));\n  }\n  dispatch(toggleIsDisabled(false, userId));\n};\n\nexport const unfollowThunk = userId => async dispatch => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    usersAPI.unfollowUsers.bind(usersAPI),\n    unfollow\n  );\n};\n\nexport const followThunk = userId => async dispatch => {\n  followUnfollowFlow(\n    dispatch,\n    userId,\n    usersAPI.followUsers.bind(usersAPI),\n    follow\n  );\n};\n\nexport default usersReducer;\n","module.exports = __webpack_public_path__ + \"static/media/35.8ae78a7e.gif\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__2RS83\",\"item\":\"NavBar_item__WEh28\",\"active\":\"NavBar_active__3Tb7-\"};","import React from \"react\";\nimport s from \"./FormControls.module.scss\";\nimport { Field } from \"redux-form\";\n\nexport const FormControl = ({ meta: {touched, error}, children }) => {\n  const hasError = touched && error;\n\n  return (\n    <div className={hasError ? s.formControl__error : \"\"}>\n      <div>{children}</div>\n      <div>{hasError && <span>{error}</span>}</div>\n    </div>\n  );\n};\n\nexport const Textarea = props => {\n  const { input, meta, child, ...restProps } = props;\n\n  return (\n    <FormControl {...props}>\n      <textarea {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const Input = props => {\n  const { input, meta, child, ...restProps } = props;\n\n  return (\n    <FormControl {...props}>\n      <input {...input} {...restProps} />\n    </FormControl>\n  );\n};\n\nexport const createField = (name, placeholder, component, validators, props = {}, text = \"\") => {\n  return (\n    <div>\n      <Field\n        name={name}\n        placeholder={placeholder}\n        component={component}\n        validate={validators}\n        {...props}\n      />{text}\n    </div>\n  );\n};\n","import { authAPI, securityAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n// Actions\nconst SET_USER_DATA = \"react-social/auth/SET_USER_DATA\"; // Redux Ducks\nconst LOGIN_USER = \"LOGIN_USER\";\nconst GET_CAPTCHA = \"GET_CAPTCHA\";\n\nlet initialState = {\n  userId: null,\n  email: null,\n  login: null,\n  isAuth: false,\n  password: null,\n  rememberMe: false,\n  captchaUrl: null\n};\n// Reducer\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_USER_DATA:\n      return {\n        ...state,\n        ...action.payload,\n        isAuth: true\n      };\n    case LOGIN_USER:\n    case GET_CAPTCHA:\n      return {\n        ...state,\n        ...action.payload\n      };\n    default:\n      return state;\n  }\n};\n// Action Creators\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n  type: SET_USER_DATA,\n  payload: { userId, email, login, isAuth }\n});\n\nexport const loginAC = (email, password, rememberMe) => ({\n  type: LOGIN_USER,\n  payload: { email, password, rememberMe }\n});\n\nexport const getCaptchaUrlSuccess = captchaUrl => ({\n  type: GET_CAPTCHA,\n  payload: { captchaUrl }\n});\n\n// side effects -  thunk\n// getAuthUserData\nexport const authThunk = () => async dispatch => {\n  let response = await authAPI.getAuthData();\n\n  if (response.resultCode === 0) {\n    let { id, email, login } = response.data;\n    dispatch(setAuthUserData(id, email, login, true));\n  }\n};\n\n// login thunk\nexport const loginAuthThunk = (email, password, rememberMe, captcha) => {\n  return async dispatch => {\n    let response = await authAPI.login(email, password, rememberMe, captcha);\n\n    if (response.resultCode === 0) {\n      dispatch(authThunk());\n    } else {\n     if (response.resultCode === 10) {\n       dispatch(getCaptchaUrl())\n     }\n\n      let message =\n        response.messages.length > 0 ? response.messages[0] : \"Some error\";\n      dispatch(stopSubmit(\"login\", { _error: message }));\n    }\n  };\n};\n\nexport const getCaptchaUrl = () => async (dispatch) => {\n  const response = await securityAPI.getCaptchaUrl();\n  const captchaUrl = response.data.url;\n  dispatch(getCaptchaUrlSuccess(captchaUrl));\n}\n\nexport const logOut = () => {\n  return async dispatch => {\n    let response = await authAPI.logOut();\n\n    if (response.resultCode === 0) {\n      dispatch(setAuthUserData(null, null, null, false));\n    }\n  };\n};\n\nexport default authReducer;\n","import { authThunk } from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESSFULLY = \"INITIALIZED_SUCCESSFULLY\";\n\nlet initialState = {\n  initialized: false\n};\n\n// action\nconst appReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case INITIALIZED_SUCCESSFULLY:\n      return {\n        ...state,\n        initialized: true\n      };\n    default:\n      return state;\n  }\n};\n// action creator\nexport const initializedSuccess = () => ({\n  type: INITIALIZED_SUCCESSFULLY\n});\n\n// thunk\nexport const initializeApp = () => dispatch => {\n  let promise = dispatch(authThunk());\n  Promise.all([promise]).then(() => {\n    dispatch(initializedSuccess());\n  });\n};\n\nexport default appReducer;\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { reducer as formReducer } from \"redux-form\";\n\nimport profileReducer from \"./profile-reducer\";\nimport dialogsReducer from \"./dialogs-reducer\";\nimport usersReducer from \"./users-reducer\";\nimport authReducer from \"./auth-reducer\";\nimport appReducer from \"./app-reducer\";\n\n\nlet reducers = combineReducers({\n  profilePage: profileReducer,\n  dialogsPage: dialogsReducer,\n  usersPage: usersReducer,\n  auth: authReducer,\n  form: formReducer,\n  app: appReducer\n});\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(thunkMiddleware)));\n\n// let store = createStore(reducers, applyMiddleware(thunkMiddleware));\n\nwindow.__store__ = store;\n\nexport default store;\n","import React from \"react\";\nimport s from \"./Header.module.scss\";\nimport { NavLink } from \"react-router-dom\";\n\nconst Header = props => {\n  return (\n    <div className={s.header}>\n      <h1>\n        <img\n          src=\"https://images.unsplash.com/photo-1530707114297-4af4b3cafe16?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1355&q=80\"\n          alt=\"logo\"\n        />\n        Social Network\n        <div className={s.loginBlock}>\n          {props.isAuth ? (\n            <div>Hello, {props.login} - <button onClick={props.logOut}>Log Out</button></div>\n          ) : (\n            <NavLink to={\"/login\"}>Login</NavLink>\n          )}\n        </div>\n      </h1>\n    </div>\n  );\n};\n\nexport default Header;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport Header from \"./Header\";\nimport { authThunk, logOut } from \"../../redux/auth-reducer\";\n\nclass HeaderContainer extends React.Component {\n  render() {\n    return <Header {...this.props} />;\n  }\n}\n\nlet mapStateToProps = state => ({\n  isAuth: state.auth.isAuth,\n  login: state.auth.login\n});\n\nexport default connect(mapStateToProps, { authThunk, logOut })(HeaderContainer);\n","import React from \"react\";\nimport s from \"./NavBar.module.scss\";\nimport { NavLink } from \"react-router-dom\";\n\nconst NavBar = () => {\n  return (\n    <div className={s.nav}>\n      <div className={s.item}>\n        <NavLink to=\"/profile\" activeClassName={s.active}>Profile</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/dialogs\" activeClassName={s.active}>Messages</NavLink>\n      </div>\n      <div className={s.item}>\n        <NavLink to=\"/users\" activeClassName={s.active}>Users</NavLink>\n      </div>\n      <div className={s.item}>\n        <a href=\"/news\">News</a>\n      </div>\n      <div className={s.item}>\n        <a href=\"/music\">Music</a>\n      </div>\n      <div className={s.item}>\n        <a href=\"/settings\">Settings</a>\n      </div>\n    </div>\n  );\n};\n\nexport default NavBar;\n","import React from \"react\";\nimport { reduxForm, Field } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { loginAuthThunk } from \"../../redux/auth-reducer\";\nimport { Input, createField } from \"../common/FormControls/FormControls\";\nimport { required, maxLengthCreator } from \"../../utils/validators/validators\";\nimport style from \"../common/FormControls/FormControls.module.scss\";\n\nconst maxLength30 = maxLengthCreator(30);\n\nconst LoginForm = ({ handleSubmit, error, captchaUrl }) => {\n  return (\n    <form onSubmit={handleSubmit}>\n      {error && (\n        <div className={style.formControl__error}>\n          <span>{error}</span>\n        </div>\n      )}\n      { captchaUrl && <img src={captchaUrl} alt=\"captcha\" />}\n      { captchaUrl && createField(\"captcha\", \"Type symbols\", Input, [required])}\n      {createField(\"email\", \"Email\", Input, [required, maxLength30], {\n        type: \"email\"\n      })}\n      {createField(\"password\", \"Password\", Input, [required, maxLength30], {\n        type: \"password\"\n      })}\n      {/* {createField(\n        \"rememberMe\",\n        null,\n        Input,\n        null,\n        { type: \"checkbox\" },\n        \"remember me\"\n      )} */}\n      <div>\n        <Field name=\"rememberMe\" type=\"checkbox\" component={Input} />\n        remember me\n      </div>\n\n      <div>\n        <button>Login</button>\n      </div>\n    </form>\n  );\n};\n\nconst LoginReduxForm = reduxForm({\n  form: \"login\"\n})(LoginForm);\n\nclass LoginContainer extends React.Component {\n  render() {\n    return <Login {...this.props} />;\n  }\n}\n\nconst Login = props => {\n  const onSubmit = formData => {\n    props.loginAuthThunk(\n      formData.email,\n      formData.password,\n      formData.rememberMe,\n      formData.captcha,\n    );\n  };\n\n  if (props.isAuth) {\n    return <Redirect to={\"/profile\"} />;\n  }\n\n  return (\n    <div>\n      <h1>LOGIN</h1>\n      <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\n    </div>\n  );\n};\n\n// export default Login;\n\nlet mapStateToProps = state => ({\n  captchaUrl: state.auth.captchaUrl,\n  isAuth: state.auth.isAuth\n});\n\nexport default connect(mapStateToProps, { loginAuthThunk })(LoginContainer);\n","import React, { Suspense } from \"react\";\n\nexport const withSuspense = Component => {\n  return props => {\n    return (\n      <Suspense fallback={<div>Loading...</div>}>\n        <Component {...props} />\n      </Suspense>\n    );\n  };\n};\n","import React from \"react\";\nimport { Route, withRouter } from \"react-router-dom\";\nimport { compose } from \"redux\";\nimport { connect } from \"react-redux\";\n\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport NavBar from \"./components/NavBar/NavBar\";\nimport LoginPage from \"./components/Login/Login\";\nimport { initializeApp } from \"./redux/app-reducer\";\nimport { withSuspense } from \"./hoc/withSuspense\";\n\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport \"./App.scss\";\n\nconst DialogsContainer = React.lazy(() =>\n  import(\"./components/Dialogs/DialogsContainer\")\n);\nconst ProfileContainer = React.lazy(() =>\n  import(\"./components/Profile/ProfileContainer\")\n);\nconst UsersContainer = React.lazy(() =>\n  import(\"./components/Users/UsersContainer\")\n);\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.initializeApp();\n  }\n\n  render() {\n    if (!this.props.initialized) {\n      return <Preloader />;\n    }\n    return (\n      <div className=\"App\">\n        <HeaderContainer />\n        <NavBar />\n        <div className=\"App-content\">\n          <Route path=\"/dialogs\" render={withSuspense(DialogsContainer)} />\n          <Route\n            path=\"/profile/:userId?\"\n            render={withSuspense(ProfileContainer)}\n          />\n          <Route path=\"/users\" render={withSuspense(UsersContainer)} />\n          <Route path=\"/login\" render={() => <LoginPage />} />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  initialized: state.app.initialized\n});\n\nexport default compose(\n  connect(mapStateToProps, { initializeApp }),\n  withRouter\n)(App);\n","import store from \"./redux/redux-store\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { Provider } from \"react-redux\";\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <HashRouter >\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </HashRouter>,\n  document.getElementById(\"root\")\n);\n","export const required = value => {\n  if (value) return undefined;\n\n  return \"Filed is required\";\n};\n\nexport const maxLengthCreator = maxLength => value => {\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\n\n  return undefined;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl__error\":\"FormControls_formControl__error__3a6O-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"loginBlock\":\"Header_loginBlock__3g_eP\"};","import { usersAPI, profileAPI } from \"../api/api\";\nimport { stopSubmit } from \"redux-form\";\n\nconst ADD_POST = \"ADD_POST\";\nconst SET_USER_PROFILE = \"SET_USER_PROFILE\";\nconst SET_USER_STATUS = \"SET_USER_STATUS\";\nconst DELETE_POST = \"DELETE_POST\";\nconst SAVE_PHOTO = \"SAVE_PHOTO\";\n\nlet initialState = {\n  posts: [\n    { id: 1, message: \"Hi, how are you?\", likesCount: 15 },\n    { id: 2, message: \"My first post\", likesCount: 10 }\n  ],\n  profile: null,\n  status: \"\"\n};\n\nconst profileReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_POST:\n      let newPost = {\n        id: 3,\n        message: action.newPostText,\n        likesCount: 0\n      };\n      return {\n        ...state,\n        posts: [...state.posts, newPost],\n        newPostText: \"\"\n      };\n    case SET_USER_PROFILE:\n      return {\n        ...state,\n        profile: action.profile\n      };\n    case SET_USER_STATUS:\n      return {\n        ...state,\n        status: action.status\n      };\n    case DELETE_POST:\n      return {\n        ...state,\n        posts: state.posts.filter(p => p.id !== action.postId)\n      };\n    case SAVE_PHOTO:\n      return {\n        ...state,\n        profile: {...state.profile, photos: action.photos}\n      };\n    default:\n      return state;\n  }\n};\n\nexport const addPostActionCreator = newPostText => ({\n  type: ADD_POST,\n  newPostText\n});\n\nexport const setUserProfile = profile => ({\n  type: SET_USER_PROFILE,\n  profile\n});\n\nexport const setUserStatus = status => ({\n  type: SET_USER_STATUS,\n  status\n});\n\nexport const deletePost = postId => ({\n  type: DELETE_POST,\n  postId\n});\n\nexport const savePhotoAC = photos => ({\n  type: SAVE_PHOTO,\n  photos\n});\n\n// thunks\n// getUserProfile\nexport const setUserProfileThunk = userId => {\n  return async dispatch => {\n    let response = await usersAPI.getUserProfile(userId);\n    dispatch(setUserProfile(response));\n  };\n};\n\nexport const getUserStatus = userId => {\n  return async dispatch => {\n    let response = await profileAPI.getUserStatus(userId);\n    dispatch(setUserStatus(response));\n  };\n};\n\nexport const updateUserStatus = status => {\n  return async dispatch => {\n    let response = await profileAPI.updateUserStatus(status);\n    if (response.resultCode === 0) {\n      dispatch(setUserStatus(status));\n    }\n  };\n};\n\nexport const savePhotoTh = file => {\n  return async dispatch => {\n    let response = await profileAPI.savePhoto(file);\n    if (response.resultCode === 0) {\n      dispatch(savePhotoAC(response.photos));\n    }\n  };\n};\n\nexport const saveProfile = profile => {\n  return async (dispatch, getState) => {\n    const userId = getState().auth.userId;\n    let response = await profileAPI.saveProfile(profile);\n    if (response.data.resultCode === 0) {\n      dispatch(setUserProfileThunk(userId));\n    } else {\n      dispatch(stopSubmit(\"edit-profile\", { _error: response.data.messages[0] }));\n      return Promise.reject(response.data.messages[0]);\n    }\n  };\n};\n\nexport default profileReducer;\n","import React from \"react\";\n\nimport preloader from \"../../../assets/images/35.gif\";\n\nconst Preloader = () => {\n  return (\n    <div>\n      <img src={preloader} alt=\"is loading\" />\n    </div>\n  );\n};\n\nexport default Preloader;\n"],"sourceRoot":""}