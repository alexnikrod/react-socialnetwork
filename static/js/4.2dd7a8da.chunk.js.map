{"version":3,"sources":["hoc/withAuthRedirect.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","assets/images/bill.jpg","components/common/Paginator/Paginator.module.scss","components/Users/Users.module.scss","redux/users-selectors.js","components/common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","module","exports","getUsersSelector","usersPage","users","getPageSize","pageSize","getTotalUsersCount","totalUsersCount","getcurrentPage","currentPage","getIsFetching","isFetching","getIsDisabled","isDisabled","Paginator","onPageChanged","portionSize","pagesCount","Math","ceil","pages","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","className","styles","paginator","onClick","filter","p","map","key","selectedPage","User","user","unfollowThunk","followThunk","id","src","photos","small","userPhoto","alt","usersPhoto","followed","disabled","some","name","status","Users","u","UsersContainer","pageNumber","getUsers","Preloader","toggleIsDisabled","compose"],"mappings":"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","file":"static/js/4.2dd7a8da.chunk.js","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nlet mapStateToPropsForRedirect = state => ({ isAuth: state.auth.isAuth });\n\nexport const withAuthRedirect = Component => {\n  class RedirectComponent extends React.Component {\n    render() {\n      if (!this.props.isAuth) {\n        return <Redirect to={\"/login\"} />;\n      }\n      return <Component {...this.props} />;\n    }\n  }\n\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n  return ConnectedAuthRedirectComponent;\n};\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","module.exports = __webpack_public_path__ + \"static/media/bill.9bea4bf7.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__1y9hK\",\"paginator\":\"Paginator_paginator__3C8hn\",\"pageNumber\":\"Paginator_pageNumber__iZYXW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersPhoto\":\"Users_usersPhoto__xCrsx\"};","export const getUsersSelector = state => {\n  return state.usersPage.users;\n};\n\nexport const getPageSize = state => {\n  return state.usersPage.pageSize;\n};\n\nexport const getTotalUsersCount = state => {\n  return state.usersPage.totalUsersCount;\n};\n\nexport const getcurrentPage = state => {\n  return state.usersPage.currentPage;\n};\n\nexport const getIsFetching = state => {\n  return state.usersPage.isFetching;\n};\n\nexport const getIsDisabled = state => {\n  return state.usersPage.isDisabled;\n};\n","import React, { useState } from \"react\";\nimport styles from \"./Paginator.module.scss\";\n// import cn from classname library\n\nlet Paginator = ({\n  totalUsersCount,\n  pageSize,\n  currentPage,\n  onPageChanged,\n  portionSize = 10\n}) => {\n  let pagesCount = Math.ceil(totalUsersCount / pageSize);\n\n  let pages = [];\n  for (let i = 1; i <= pagesCount; i++) {\n    pages.push(i);\n  }\n\n  let portionCount = Math.ceil(pagesCount / portionSize);\n  let [portionNumber, setPortionNumber] = useState(1);\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\n  let rightPortionPageNumber = portionNumber * portionSize;\n\n  return (\n    <div className={styles.paginator}>\n      {portionNumber > 1 && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber - 1);\n          }}\n        >\n          PREV\n        </button>\n      )}\n\n      {pages\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n        .map(p => {\n          return (\n            <span\n              key={p}\n              /* className={ cn(\n                {\n                  [styles.selectedPage]: currentPage === p\n                },\n                styles.pageNumber\n              )} */\n              className={currentPage === p ? styles.selectedPage : null}\n              onClick={() => {\n                onPageChanged(p);\n              }}\n            >\n              {p}\n            </span>\n          );\n        })}\n      {portionCount > portionNumber && (\n        <button\n          onClick={() => {\n            setPortionNumber(portionNumber + 1);\n          }}\n        >\n          NEXT\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Paginator;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nimport styles from \"./Users.module.scss\";\nimport userPhoto from \"../../assets/images/bill.jpg\";\n\nlet User = ({ user, isDisabled, unfollowThunk, followThunk }) => {\n  return (\n    <div>\n      <span>\n        <div>\n          <NavLink to={\"/profile/\" + user.id}>\n            <img\n              src={user.photos.small != null ? user.photos.small : userPhoto}\n              alt=\"User\"\n              className={styles.usersPhoto}\n            />\n          </NavLink>\n        </div>\n        <div>\n          {user.followed ? (\n            <button\n              disabled={isDisabled.some(id => id === user.id)}\n              onClick={() => {\n                unfollowThunk(user.id);\n              }}\n            >\n              Unfollow\n            </button>\n          ) : (\n            <button\n              disabled={isDisabled.some(id => id === user.id)}\n              onClick={() => {\n                followThunk(user.id);\n              }}\n            >\n              Follow\n            </button>\n          )}\n        </div>\n      </span>\n      <span>\n        <span>\n          <div>{user.name}</div>\n          <div>{user.status}</div>\n        </span>\n        <span>\n          <div>{\"user.location.country\"}</div>\n          <div>{\"user.location.city\"}</div>\n        </span>\n      </span>\n    </div>\n  );\n};\n\nexport default User;\n","import React from \"react\";\n\nimport Paginator from \"../common/Paginator/Paginator\";\nimport User from \"./User\";\n\nlet Users = ({\n  currentPage,\n  totalUsersCount,\n  pageSize,\n  onPageChanged,\n  users,\n  isDisabled,\n  unfollowThunk,\n  followThunk\n}) => {\n  return (\n    <div>\n      <Paginator\n        currentPage={currentPage}\n        totalUsersCount={totalUsersCount}\n        pageSize={pageSize}\n        onPageChanged={onPageChanged}\n      />\n      <div>\n        {users.map(u => (\n          <User\n            user={u}\n            key={u.id}\n            isDisabled={isDisabled}\n            unfollowThunk={unfollowThunk}\n            followThunk={followThunk}\n          />\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Users;\n","import React from \"react\";\nimport { connect } from \"react-redux\";\n\nimport {\n  followThunk,\n  unfollowThunk,\n  getUsers\n} from \"../../redux/users-reducer\";\n\nimport {\n  getUsersSelector,\n  getPageSize,\n  getTotalUsersCount,\n  getcurrentPage,\n  getIsFetching,\n  getIsDisabled\n} from \"../../redux/users-selectors\";\n\nimport { withAuthRedirect } from \"../../hoc/withAuthRedirect\";\n\nimport Users from \"./Users\";\nimport Preloader from \"../common/Preloader/Preloader\";\nimport { compose } from \"redux\";\n\nclass UsersContainer extends React.Component {\n  componentDidMount() {\n    const { currentPage, pageSize } = this.props;\n    this.props.getUsers(currentPage, pageSize);\n  }\n\n  onPageChanged = pageNumber => {\n    const { pageSize } = this.props;\n    this.props.getUsers(pageNumber, pageSize);\n  };\n\n  render() {\n    return (\n      <>\n        {this.props.isFetching ? <Preloader /> : null}\n        <Users\n          totalUsersCount={this.props.totalUsersCount}\n          pageSize={this.props.pageSize}\n          currentPage={this.props.currentPage}\n          users={this.props.users}\n          followThunk={this.props.followThunk}\n          unfollowThunk={this.props.unfollowThunk}\n          onPageChanged={this.onPageChanged}\n          isDisabled={this.props.isDisabled}\n          toggleIsDisabled={this.props.toggleIsDisabled}\n        />\n      </>\n    );\n  }\n}\n\nlet mapStateToProps = state => {\n  return {\n    users: getUsersSelector(state),\n    pageSize: getPageSize(state),\n    totalUsersCount: getTotalUsersCount(state),\n    currentPage: getcurrentPage(state),\n    isFetching: getIsFetching(state),\n    isDisabled: getIsDisabled(state)\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, {\n    followThunk,\n    unfollowThunk,\n    getUsers\n  }),\n  withAuthRedirect\n)(UsersContainer);\n"],"sourceRoot":""}